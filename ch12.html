<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Chapter 12. Entrada/Sortida</title><link rel="stylesheet" href="byte.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.68.1" /><link rel="start" href="index.html" title="A Byte of Python - Una mica de Python" /><link rel="up" href="index.html" title="A Byte of Python - Una mica de Python" /><link rel="prev" href="ch11s08.html" title="Resum" /><link rel="next" href="ch12s02.html" title="Pickle" /></head><body>
<div class="header">
<strong><a href="http://www.byteofpython.info/" class="header-link">A Byte of Python</a></strong>
</div>
<div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter 12. Entrada/Sortida</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch11s08.html">Ant</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="ch12s02.html">Seg</a></td></tr></table><hr /></div><div class="chapter" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title"><a id="io"></a>Chapter 12. Entrada/Sortida</h2></div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="ch12.html#files">Fitxers</a></span></dt><dd><dl><dt><span class="section"><a href="ch12.html#using-files">Ús dels fitxers</a></span></dt></dl></dd><dt><span class="section"><a href="ch12s02.html">Pickle</a></span></dt><dd><dl><dt><span class="section"><a href="ch12s02.html#pickling-and-unpickling">Pickling i Unpickling</a></span></dt></dl></dd><dt><span class="section"><a href="ch12s03.html">Resum</a></span></dt></dl></div><p>
	
	Sovint necessitem que els nostres programes interaccionin amb l'usuari. Voldrem obtenir respostes
	de l'usuari i escriure-li resultats. 
	Python ens ofereix les sentències <code class="function">raw_input</code> i <code class="literal">print</code>.
	Per a sortida, disposem d'altres mètodes de la classe string (<code class="classname">str</code>). Per 
	exemple, podem fer servir el mètode <code class="methodname">rjust</code> que ens retorna el string
	justificat a la dreta amb una amplada donada. Tindrem més
	detalls amb <code class="literal">help(str)</code>.
		
	</p><p>
	
	Un altre tipus habitual d'entrada/sortida és el tractament de fitxers. Per a molts programes
	és essencial poder crear, llegir i escriure fitxers. Ho estudiarem a aquest capítol.
		
	</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="files"></a>Fitxers</h2></div></div></div><p>
		
		Per usar fitxers en lectura o escriptura, cal crear un objecte de la classe
		<code class="classname">file</code> especificant el mode, i usar els mètodes 
		<code class="methodname">read</code>, <code class="methodname">readline</code> o 
		<code class="methodname">write</code>.
		Quan acabem de fer servir el fitxer, cal tancar-ho amb el mètode 
		<code class="methodname">close</code>.
			
		</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="using-files"></a>Ús dels fitxers</h3></div></div></div><div class="example"><a id="id306164"></a><p class="title"><b>Example 12.1. Ús dels fitxers</b></p><pre class="programlisting">
				
<span class="py-comment">#!/usr/bin/python</span>
<span class="py-comment"># Filename: using_file.py</span>

poem = <span class="py-string">'''\
Programming is fun
When the work is done
if you wanna make your work also fun:
	use Python!
'''</span>

f = <span class="py-builtin">file</span>(<span class="py-string">'poem.txt'</span>, <span class="py-string">'w'</span>) <span class="py-comment"># obrim per escriptura ('w'riting)</span>
f.write(poem) <span class="py-comment"># escrivim al fitxer el poema</span>
f.close() <span class="py-comment"># tanquem el fitxer</span>

f = <span class="py-builtin">file</span>(<span class="py-string">'poem.txt'</span>) <span class="py-comment"># quan no s'especifica el mode, es suposa que és lectura ('r'ead)</span>
<span class="py-statement">while</span> <span class="py-builtin">True</span>:
	line = f.readline()
	<span class="py-statement">if</span> <span class="py-builtin">len</span>(line) == <span class="py-number">0</span>: <span class="py-comment"># la longitud zero indica fi del fitxer (EOF)</span>
		<span class="py-statement">break</span>
	<span class="py-statement">print</span> line, <span class="py-comment"># Atenció amb la coma per evitar el salt de línia automàtic</span>
f.close() <span class="py-comment"># tanquem el fitxer</span>
				
				</pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="id306176"></a>Sortida</h4></div></div></div><pre class="screen">
				
$ python using_file.py
Programming is fun
When the work is done
if you wanna make your work also fun:
        use Python!
				
				</pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="id306202"></a>Com funciona</h4></div></div></div><p>
				
				Primer de tot el programa crea una instància de la classe 
				<code class="classname">file</code> especificant el nom del fitxer que volem
				obrir i el mode (escriptura) en que el volem obrir.
				El mode pot ser per lectura (<code class="literal">'r'</code>), per
				escriptura (<code class="literal">'w'</code>) o per afegir (<code class="literal">'a'</code>).
				En realitat n'hi ha d'altres modes disponibles que podem consultar
				amb <code class="literal">help(file)</code>.
								
				</p><p>
				
				Obrim el fitxer en mode escriptura i hi escrivim amb el mètode 
				<code class="methodname">write</code> de la classe <code class="classname">file</code>.
				Finalment tanquem el fitxer amb <code class="methodname">close</code>.
				
				</p><p>
				
				A continuació, obrim un altre cop el fitxer. Com que no especifiquem el 
				mode, Python per defecte l'obre per lectura. Llegim cada línia del 
				fitxer amb el mètode <code class="methodname">readline</code>. Aquest mètode
				retorna una línia completa incloent el caràcter de salt de línia al
				final de la línia. Quan el que ens retorna és un string 
				<span class="emphasis"><em>buit</em></span>, sabem que hem arribat al final del fitxer i
				sortim del bucle.

				</p><p>
				
				Notem que fem servir una coma amb la sentència <code class="literal">print</code>
				per a evitar que ens inclogui el salt de línia automàtic, donat que la
				línia ja inclou el caràcter de salt de línia. Finalment tanquem el fitxer
				amb el mètode <code class="methodname">close</code>.
				
				</p><p>
				
				Un cop executat podem mirar que el fitxer <code class="filename">poem.txt</code> 
				ha estat creat i efectivament conté el poema.
				
				</p></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch11s08.html">Ant</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="ch12s02.html">Seg</a></td></tr><tr><td width="40%" align="left" valign="top">Resum </td><td width="20%" align="center"><a accesskey="h" href="index.html">Inicial</a></td><td width="40%" align="right" valign="top"> Pickle</td></tr></table></div></body></html>
